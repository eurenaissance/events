{% extends 'base.html.twig' %}

{% block title 'group.view.view.title'|trans({ '%group%': group.name }) %}

{% block body %}
    <h1>{{ group.name }}</h1>

    <hr class="mt-5">

    <div class="row">
        <div class="col-md-8">
            {% if group.isPending %}
                <div class="alert alert-primary">
                    <p class="mb-0">
                        {{ 'group.view.view.flash.pending'|trans }}
                    </p>
                </div>
            {% endif %}
        </div>
        <div class="col-md-4 border-left">
            <p>
                {{ group.city.name }}, {{ group.city.country|country }}
                <br>
                A {{ distance_between(group, app.user) }}km de vous
            </p>
            <h5>Anim√© par:</h5>
            <p>
                {{ group.animator.fullName }}
                {% for coAnimator in group.coAnimators %}
                    <br>
                    {{ coAnimator.fullName }}
                {% endfor %}
            </p>
            <hr class="mt-4">
            <p>
                {{ group.description|raw }}
            </p>
        </div>
    </div>
    {% if is_granted('GROUP_UNFOLLOW', group) %}
        You are follower of this group! \o/

        <a href="{{ path('app_group_unfollow', { slug: group.slug }) }}">
            stop following this group
        </a>
    {% endif %}

    {% if is_granted('GROUP_FOLLOW', group) %}
        Interested in following this group ?

        <a href="{{ path('app_group_follow', { slug: group.slug }) }}">
            follow this group
        </a>
    {% endif %}
{% endblock %}
