<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title 'common.default_title'|trans %}</title>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>

        {% block flash_message %}
            {% for message in app.flashes('info') %}
                <div class="flash notice-flashes">
                    <div class="flash__inner">{{ message|trans }}</div>
                </div>
            {% endfor %}
        {% endblock %}

        {% if is_granted('ROLE_ADMIN') %}
            <a href="{{ path('sonata_admin_dashboard') }}">
                {{ 'security.administration'|trans }}
            </a>
        {% elseif is_granted('ROLE_ACTOR') %}
            {{ 'common.hello_actor'|trans({ '%actor%': app.user.firstName }) }}
            ({{ app.user.emailAddress }})
            <ul>
                <li>
                    <a href="{{ path('app_actor_profile_edit') }}">
                        {{ 'actor.profile'|trans }}
                    </a>
                </li>
                <li>
                    <a href="{{ path('app_logout') }}">
                        {{ 'security.logout'|trans }}
                    </a>
                </li>
                {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
                    <li class="text--small">
                        <a href="{{ path('app_admin_impersonation_exit') }}">
                            {{ 'security.quit_impersonation'|trans }}
                        </a>
                    </li>
                {% endif %}
            </ul>
        {% else %}
            <ul>
                <li>
                    <a href="{{ path('app_login') }}">
                        {{ 'security.login'|trans }}
                    </a>
                </li>
                <li>
                    <a href="{{ path('app_actor_registration_register') }}">
                        {{ 'actor.registration.register'|trans }}
                    </a>
                </li>
            </ul>
        {% endif %}
        <hr>

        {% block body %}{% endblock %}
        {% block javascripts %}{% endblock %}
    </body>
</html>
