<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title 'common.default_title'|trans %}</title>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>

        {% block flash_message %}
            {% for message in app.flashes('info') %}
                <div class="flash notice-flashes">
                    <div class="flash__inner">{{ message|trans }}</div>
                </div>
            {% endfor %}
        {% endblock %}

        {% if is_granted('ROLE_ADMIN_DASHBOARD') %}
            <a href="{{ path('sonata_admin_dashboard') }}">
                {{ 'security.administration'|trans }}
            </a>
        {% else %}

            {% if app.user %}
                {{ 'common.hello_actor'|trans({ '%actor%': app.user.firstName }) }}
                ({{ app.user.emailAddress }})
            {% endif %}
            <ul>
                {% if app.user %}
                    <li>
                        <a href="{{ path('app_profile_edit') }}">
                            {{ 'actor.profile'|trans }}
                        </a>
                    </li>
                    <li>
                        <a href="{{ path('app_logout') }}">
                            {{ 'security.logout'|trans }}
                        </a>
                    </li>
                    {% if is_granted('ROLE_PREVIOUS_ADMIN') %}
                        <li class="text--small">
                            <a href="{{ path('app_admin_impersonation_exit') }}">
                                {{ 'security.quit_impersonation'|trans }}
                            </a>
                        </li>
                    {% endif %}
                {% endif %}

                {% if not app.user %}
                    <li>
                        <a href="{{ path('app_login') }}">
                            {{ 'security.login'|trans }}
                        </a>
                    </li>
                    <li>
                        <a href="{{ path('app_registration_form') }}">
                            {{ 'actor.registration.register'|trans }}
                        </a>
                    </li>
                {% endif %}
            </ul>

        {% endif %}
        <hr>

        {% block body %}{% endblock %}
        {% block javascripts %}{% endblock %}
    </body>
</html>
